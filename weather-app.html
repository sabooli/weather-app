<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weatherapp</title>
    <link rel="stylesheet" href="src/styles.css" />
    <script
      src="https://kit.fontawesome.com/8589f7fe36.js"
      crossorigin="anonymous"
    ></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Oleo+Script+Swash+Caps&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="card">
        <div class="card-body">
            <form class="input-group mb-3" id="search-engin">
  <input type="text" class="form-control" placeholder="City" aria-label="City" aria-describedby="button-addon2" id="city-input" autocomplete="off">
  <button class="btn btn-outline-secondary" type="button" id="button-addon2">Search</button>
  <button class="btn btn-outline-secondary" type="button" id="button-addon3">Current</button>
            </form>
        
          
          <br />
          <div class="row row-cols-1 row-cols-md-2 g-2">
           
            <div class="col">
              
                <div class="card-body">
                  <p class="card-text-city">
                    <h1 class="card-title-city">Paris</h1>
                  <em class="card-text" id="date"> Sat, 31 Jul </em> <br /> <br />
                    H= <span id=highest>30</span>°C L=<span id="lowest">21</span>°C<br />
                   <div> humidity: <span id="prec"> 67 </span>%</div>
                   <div> Wind: <span id="sooz"> 5 </span>km/h</div>
                  </p>
                
              </div>
            </div>
            <div class="col">
              
                  <div class="card-body">
                  <i class="fa-regular fa-sun today"></i>
              <br />
              <div class="degree"> <span id="just-now">25 </span> <a href="#" class="celcius" id="celcius-link"> °C </a> </div>
                                  </div>
              
            </div>
          </div>
          
          <hr />
          <div class="row row-cols-1 row-cols-md-6 g-4">
            <div class="col-6">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title">Sun</h5>
                  <p class="card-text">
                    <i class="fa-regular fa-sun"></i>
                  </p>
                  29°/20°
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title">Mon</h5>
                  <p class="card-text">
                    <i class="fa-regular fa-sun"></i>
                  </p>
                  31°/20°
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title">Tue</h5>
                  <p class="card-text">
                    <i class="fa-regular fa-sun"></i>
                  </p>
                  33°/21°
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title">Wed</h5>
                  <p class="card-text"><i class="fa-regular fa-sun"></i></p>
                  33°/22°
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title">Thu</h5>
                  <p class="card-text"><i class="fa-regular fa-sun"></i></p>
                  33°/22°
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title">Fri</h5>
                  <p class="card-text"><i class="fa-regular fa-sun"></i></p>
                  33°/22°
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    let now = new Date();
let days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
let day = days[now.getDay()];
let date = now.getDate();
let months = [
  "Jan",
  "Feb",
  "Mar",
  "Apr",
  "May",
  "Jun",
  "Jul",
  "Aug",
  "Sep",
  "Oct",
  "Nov",
  "Dec",
];
let month = months[now.getMonth()];
let todayDate = document.querySelector("#date");
todayDate.innerHTML = `${day}, ${date} ${month}`;

function enterNew(event) {
  event.preventDefault();
  let currentCity = document.querySelector("#city-input");
  let heading = document.querySelector("h1");
  heading.innerHTML = currentCity.value;
  let cityy = currentCity.value;

  function showTemp(tempo) {
    console.log(tempo.data);
    let temperatureElement = document.querySelector("#just-now");
    temperatureElement.innerHTML = `${Math.round(tempo.data.main.temp)}`;
    let maxElement = document.querySelector("#highest");
    maxElement.innerHTML = `${Math.round(tempo.data.main.temp_max)}`;
    let minElement = document.querySelector("#lowest");
    minElement.innerHTML = `${Math.round(tempo.data.main.temp_min)}`;
    let precipitationElement = document.querySelector("#prec");
    precipitationElement.innerHTML = `${tempo.data.main.humidity}`;
    let windElement = document.querySelector("#sooz");
    windElement.innerHTML = `${Math.round(tempo.data.wind.speed)}`;
  }
  let apiKey = "4b0b2f517c80e7ab3164919ae7be38b7";
  let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${cityy}&units=metric`;
  axios.get(`${apiUrl}&appid=${apiKey}`).then(showTemp);
}

let submit = document.querySelector("#button-addon2");
submit.addEventListener("click", enterNew);

function getCurrentLocation() {
  navigator.geolocation.getCurrentPosition(showPosition);
}
function showPosition(position) {
  let apiKey = "4b0b2f517c80e7ab3164919ae7be38b7";
  let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${position.coords.latitude}&lon=${position.coords.longitude}&units=metric`;
  axios.get(`${apiUrl}&appid=${apiKey}`).then(displayTemp);
}

function displayTemp(tempi) {
  console.log(tempi.data);
  let heading = document.querySelector("h1");
  heading.innerHTML = `${tempi.data.name}`;
  let temperatureElementt = document.querySelector("#just-now");
  temperatureElementt.innerHTML = `${Math.round(tempi.data.main.temp)}`;
  let maxiElement = document.querySelector("#highest");
  maxiElement.innerHTML = `${Math.round(tempi.data.main.temp_max)}`;
  let miniElement = document.querySelector("#lowest");
  miniElement.innerHTML = `${Math.round(tempi.data.main.temp_min)}`;
  let humidityElement = document.querySelector("#prec");
  humidityElement.innerHTML = `${tempi.data.main.humidity}`;
  let winddElement = document.querySelector("#sooz");
  winddElement.innerHTML = `${Math.round(tempi.data.wind.speed)}`;
}

let button = document.querySelector("#button-addon3");
button.addEventListener("click", getCurrentLocation);

  </script>
</html>